<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="BoardMapper">
  	<resultMap type="Board" id="boardResultMap">
  	<id property="boardNo" column="BOARD_NO"></id>
  	<result property="boardTitle" column="BOARD_TITLE"/>
  	<result property="boardContent" column="BOARD_CONTENT"/>
  	<result property="boardWriter" column="BOARD_WRITER"/>
  	<result property="boardDate" column="BOARD_DATE"/>
  	<result property="boardUpdatedate" column="BOARD_UPDATEDATE"/>
  	<result property="boardCount" column="BOARD_COUNT"/>
  	<result property="boardFilename" column="BOARD_FILENAME"/>
  	<result property="boardFilerename" column="BOARD_FILERENAME"/>
	<result property="boardFilepath" column="BOARD_FILEPATH"/>
	

  	</resultMap>
  	<select id="selectListCount" resultType="_int">
  		SELECT COUNT(*) FROM BOARD_TBL
  	</select>
  	<select id="selectAllBoard" resultMap="boardResultMap">
  		SELECT*FROM BOARD_TBL ORDER BY BOARD_NO ASC
  	</select>
  	<select id="selectOneBoard" resultMap="boardResultMap">
  		SELECT*FROM BOARD_TBL WHERE BOARD_NO = #{boardNo}
  	</select>
  	<select id="selectSearchBoard" resultMap="boardResultMap">
  		SELECT*FROM BOARD_TBL
  		<if test="searchCondition.toString() == 'contents'">
  			WHERE BOARD_CONTENTS LIKE '%'|| #{searchValue} || '%'
  		</if>
  		ORDER BY BOARD_DATE DESC
  	</select>
  
  
  	<insert id="insertBoard" parameterType="Board">
  	 	INSERT INTO BOARD_TBL VALUES(SEQ_BOARD_NO.NEXTVAL, #{boardTitle}, #{boardContent}, #{boardWriter}, 
  	 	#{boardDate}, #{boardUpdatedate}, #{boardCount}, #{boardFilename}, #{boardFilerename}, #{boardFilepath}) 
  	</insert>
  	<update id="updateBoard">
  		UPDATE BOARD_TBL
  		SET BOARD_TITLE = #{boardTitle}, BOARD_CONTENT = #{boardContent}, BOARD_FILENAME = #{boardFilename}, 
  		BOARD_FILEPATH = #{boardFilepath}, BOARD_UPDATEDATE = DEFAULT
  		WHERE BOARD_NO = #{boardNo}
  	</update>
  	<delete id="deleteBoard">
  		DELETE FROM BOARD_TBL WHERE BOARD_NO = #{boardNo}
  	</delete>
  </mapper>